<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Drum Counter Altimeter</title>
  <style>
    .drum-counter {
      display: flex;
      gap: 1px;
      justify-content: center;
      align-items: center;
      background: #222;
      padding: 3px;
      border-radius: 2px;
      box-shadow: 0 1px 2px #0006;
      width: max-content;
    }
    .drum-digit {
      width: 7px;
      height: 10px;
      overflow: hidden;
      background: #111;
      border-radius: 1px;
      border: 1px solid #444;
      position: relative;
      box-shadow: 0 0 1px #0004;
      font-family: 'Consolas', monospace;
    }
    .drum-strip {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      transition: transform 0.4s cubic-bezier(.5,1.5,.5,1);
    }
    .drum-number {
      height: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 8px;
      color: #fff;
      user-select: none;
      z-index: 1;
      position: relative;
    }
    /* Overlay para efecto de cilindro */
    .drum-digit::after {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      pointer-events: none;
      border-radius: 1px;
      background: linear-gradient(to bottom, #222 0%, #111 15%, rgba(255,255,255,0.12) 35%, rgba(255,255,255,0.35) 50%, rgba(255,255,255,0.12) 65%, #111 85%, #222 100%);
      z-index: 2;
    }
  </style>
</head>
<body>
  <h2 style="text-align:center">Drum Counter (Altimeter)</h2>
  <div class="drum-counter" id="drum-counter">
    <!-- Digits will be generated by JS -->
  </div>
  <div style="text-align:center; margin-top:20px;">
    <input type="number" id="alt-input" min="0" max="99999" value="12345" style="font-size:1.2em; width:120px;">
    <button onclick="setDrumValue()">Set Value</button>
  </div>
  <script>
    const drumDigits = 5;
    const drumCounter = document.getElementById('drum-counter');
    // Create digit drums
    for (let i = 0; i < drumDigits; i++) {
      const digit = document.createElement('div');
      digit.className = 'drum-digit';
      const strip = document.createElement('div');
      strip.className = 'drum-strip';
      for (let n = 0; n < 10; n++) {
        const num = document.createElement('div');
        num.className = 'drum-number';
        num.textContent = n;
        strip.appendChild(num);
      }
      digit.appendChild(strip);
      drumCounter.appendChild(digit);
    }
    function setDrumValue() {
      let value = document.getElementById('alt-input').value.padStart(drumDigits, '0');
      [...drumCounter.children].forEach((digit, i) => {
        const strip = digit.querySelector('.drum-strip');
        const num = parseInt(value[i]);
        strip.style.transform = `translateY(-${num * 10}px)`;
      });
    }
    // Inicializar con el valor por defecto
    setDrumValue();
  </script>
</body>
</html>
