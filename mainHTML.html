<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Banco de Prueba y Calibraci贸n</title>
<link rel="stylesheet" href="https://cl4udio.netlify.app/CSS/mainHTML.css">

</head>

<body>



<div class="grid-container">
  <!-- AirSpeed: Row 1, Col 1 -->
  <div id="AirSpeed-container" style="grid-row: 1; grid-column: 1;"></div>  

  <!-- Attitude Control: Row 1, Col 2 -->
  <div id="Attitude-container" style="grid-row: 1; grid-column: 2;"></div>

  <!-- Altimeter: Row 1, Col 3 (copiado de AltVerSpe/mainHTML.cpp) -->
  <div id="Altimeter-container" style="grid-row: 1; grid-column: 3;"></div>

  <!-- RPM: Row 1, Col 4 -->
  <div id="rpm-container" style="grid-row: 1; grid-column: 4;"></div>

  <!-- Vertical Speed: Row 2, Col 3 (copiado de AltVerSpe/mainHTML.cpp) -->
  <div id="VerticalSpeed-container" style="grid-row: 2; grid-column: 3;"></div>
  <!-- Fuel Flow: Row 2, Col 4 -->
  <div id="FuelFlow-container" style="grid-row: 2; grid-column: 4;"></div>
  
  <!-- Sliders: Row 2, Col 6 en adelante -->



  
</div>


<script>


// Inicializaci贸n del WebSocket para comunicaci贸n con el ESP32
const ws = new WebSocket('ws://' + location.hostname + ':81/');

// === Funciones de actualizaci贸n de instrumentos ===




// Handler WebSocket: actualiza todos los instrumentos
ws.onmessage = (msg) => {
  // let data = JSON.parse(msg.data);
  // if (data.airspeed !== undefined) updateAirspeedInstrument(data.airspeed);
  if (data.rpm !== undefined) updateRPMInstrument(data.rpm);
  // if (data.fuelFlow !== undefined) updateFuelFlowInstrument(data.fuelFlow);
  // if (data.vsSliderValue !== undefined) updateVSInstrument(data.vsSliderValue);
  // if (data.roll !== undefined) {
  //   rollSlider.value = data.roll;
  //   rollSliderValue.textContent = parseFloat(data.roll).toFixed(1);
  // }
  // if (data.pitch !== undefined) {
  //   pitchSlider.value = data.pitch;
  //   pitchSliderValue.textContent = parseInt(data.pitch);
  // }
  // updateAttitudeInstrument();
};

// <div id="contenedor"></div>



window.addEventListener('DOMContentLoaded', () => {
  fetch("https://cl4udio.netlify.app/RPM.html")
    .then(r => r.text())
    .then(html => {
      document.getElementById("rpm-container").innerHTML = html;
    });
});




</script>

</body>
</html>